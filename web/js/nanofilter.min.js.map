{"version":3,"sources":["nanofilter.js"],"names":["nanofilter","server","port","k","query_url","q","do_query","d3","json","do_queries","qs","Q","queue","forEach","defer","await","build_query","group","parts","f","_filters","dimension","filter","type","target","join","push","print","splitter","create_group","arg_printer","name","args","Array","prototype","slice","call","arguments","map","JSON","stringify","_id","_group_id","_anchor","id","values","_groups","mt_interval_sequence","start","binwid","len","this","dive","bins","depth","time","getTime","_start_time","_resolution","startb","widb","categorical","dispose","all","validate","data","expect","d","i","length","console","log","key_ascending","a","b","key","NaN","ms_mult","suffix","mult","_schema","_data","_fields","_xform","nf","field","toValues","v","to","Error","fields","find","filterExact","val","filterMultiple","vals","filterRange","range","filterFunction","commit","ids","Object","keys","error","result","xform","root","children","pv","path","value","sort","kv","fro","schema","test","vn","vname","valnames","Math","round","Date","metadata","m","split","parse","match","exec"],"mappings":"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","file":"nanofilter.min.js"}