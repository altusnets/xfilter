{"version":3,"sources":["nanofilter.js"],"names":["nanofilter","server","port","k","query_url","q","do_query","d3","json","do_queries","qs","Q","queue","forEach","defer","await","build_query","group","parts","f","_filters","dimension","filter","type","target","join","push","print","create_group","arg_printer","name","args","Array","prototype","slice","call","arguments","map","JSON","stringify","_id","_group_id","_anchor","id","values","_groups","mt_interval_sequence","start","binwid","len","this","dive","bins","depth","time","getTime","_start_time","_resolution","startb","widb","categorical","dispose","all","validate","data","expect","d","i","length","console","log","key_ascending","a","b","key","NaN","ms_mult","suffix","mult","_schema","_data","_fields","_xform","nf","field","toValues","v","to","Error","fields","find","filterExact","val","filterMultiple","vals","filterRange","range","filterFunction","commit","ids","Object","keys","error","result","xform","root","children","pv","path","value","sort","kv","fro","schema","test","vn","vname","valnames","Math","round","Date","metadata","m","split","parse","match","exec"],"mappings":"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","file":"nanofilter.min.js"}