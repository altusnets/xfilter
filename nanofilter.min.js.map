{"version":3,"sources":["nanofilter.js"],"names":["nanofilter","server","port","k","query_url","q","do_query","d3","json","do_queries","qs","Q","queue","forEach","defer","await","build_query","group","parts","f","_filters","dimension","filter","type","target","join","push","print","create_group","arg_printer","name","args","Array","prototype","slice","call","arguments","map","JSON","stringify","_id","_group_id","_anchor","id","values","_groups","mt_interval_sequence","start","binwid","len","this","dive","bins","depth","time","getTime","_start_time","_resolution","startb","widb","categorical","dispose","all","validate","data","expect","d","i","length","console","log","key_ascending","a","b","key","NaN","_schema","_data","_fields","_xform","nf","field","toValues","v","to","Error","fields","find","filterExact","val","filterMultiple","vals","filterRange","range","filterFunction","commit","ids","Object","keys","error","result","xform","root","children","pv","path","value","sort","kv","fro","schema","test","vn","vname","valnames","Math","round","Date","metadata","m","split","parse","substr"],"mappings":"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","file":"nanofilter.min.js"}